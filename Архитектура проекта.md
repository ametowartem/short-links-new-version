> **Архитектура и требования**


**Бэкенд**:

1. **NestJS:** Этот фреймворк выбран из-за своей эффективной работы с I/O-bound нагрузкой. NestJS предлагает модульную структуру, встроенную поддержку TypeScript и интеграцию с популярными библиотеками, что облегчает разработку и поддержку серверных приложений.


2. **MongoDB и Mongoose:** Выбор NoSQL базы данных обусловлен отсутствием необходимости в транзакциях и лучшей масштабируемостью для работы с документами. Mongoose обеспечивает удобный доступ к данным MongoDB с помощью схем и моделей.


3. **Redis:** Использование Redis для хранения коротких ссылок обусловлено его быстрой скоростью доступа и возможностью работы с кешем, что позволяет ускорить процесс поиска короткой ссылки.


4. **RabbitMQ:** Отдельный микросервис для подтверждения почты выбран с использованием брокера сообщений RabbitMQ для обеспечения надежной и асинхронной обработки электронной почты.


5. **GraphQL:** Введение GraphQL резолверов для API контроллеров позволяет удобно взаимодействовать между фронтендом и бэкендом, предоставляя клиентам возможность запрашивать только необходимые данные.

6. **ClickHouse:** Планируется использовать ClickHouse для хранения статистики из-за его высокой производительности и возможности анализа больших объемов данных.

7. **Jest и Swagger:** Jest используется для тестирования, а Swagger для создания документации OpenAPI для API.


8. **Mailgun и S3/Minio:** Для отправки почты используется Mailgun, а для хранения изображений - S3 или Minio для обеспечения надежного и масштабируемого хранения.

**Фронтенд:**

1. **React с TypeScript:** Реакт с TypeScript выбран для удобства работы с API сервера и статической типизации данных.


2. **Redux и Apollo:** Redux используется для управления состоянием приложения, а Apollo - для работы с GraphQL запросами.


3. **Axios и SCSS:** Axios используется для отправки HTTP запросов, а SCSS для динамического применения стилей к React компонентам.


4. **Material-UI:** Материал-UI выбран как фреймворк для создания стилизованных компонентов, что упрощает разработку пользовательского интерфейса.


**Инструменты и оркестрация:**

**GitHub:** Используется для хранения и управления кодом.

**Docker и Docker Compose:** Docker и Docker Compose используются для контейнеризации и локальной оркестрации контейнеров, обеспечивая удобство развертывания и масштабирования приложения.




> **Альтернативные варианты стека**

**Альтернативные варианты для бэкенда:**

**Java Spring Boot:**

Несмотря на схожую архитектуру с NestJS, разработка на Spring Boot может быть более медленной из-за более объемных конфигураций и использования языка Java. Для проекта, где приоритет уделяется скорости разработки и обработки запросов, выбор был сделан в пользу NestJS.


**Python Django:**

Django имеет меньшую гибкость и сложнее масштабируется по сравнению с NestJS. Также, Python является интерпретируемым языком и неявно типизированным, что может привести к сложностям в разработке и требовать больше тестирования.


**SQL PostgreSQL:**

PostgreSQL хоть и обладает высокой отказоустойчивостью и безопасностью за счет использования SQL и транзакций, но он медленнее в работе и сложнее масштабируется по сравнению с MongoDB. Для проекта, где важна скорость обработки запросов, выбрана MongoDB.

**Kafka:**

Kafka имеет более сложную настройку и администрирование, чем RabbitMQ. Также, для небольших проектов Kafka может быть избыточным и излишне сложным решением.

**ELK Stack:**

ELK Stack обладает мощными возможностями для обработки и анализа логов, однако ClickHouse более подходит для хранения и анализа статистических данных в реальном времени. ELK Stack также требует больше ресурсов для настройки и обслуживания.

**Nodemailer:**

Mailgun предоставляет более простое и надежное решение для отправки почты в рамках проекта, в то время как Nodemailer требует больше настроек и может быть менее надежным.


**Альтернативные варианты для фронтенда:**

**Angular или Next.js:**

Angular и Next.js имеют большой порог входа и более сложные концепции по сравнению с React. Для проекта, где важны быстрое время разработки и гибкость, выбран React.

**MobX:**

MobX имеет более сложную структуру и управление состоянием по сравнению с Redux. Redux широко используется в индустрии и обладает большим сообществом поддержки и экосистемой.

**Bootstrap:**

MUI предоставляет более гибкие и стилизованные компоненты специально для React, что делает его более удобным для разработки интерфейса в среде React. Bootstrap, с другой стороны, имеет более общий подход и может требовать больше настроек для интеграции с React.

